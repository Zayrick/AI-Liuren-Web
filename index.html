<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>小六 AI 占卜</title>
  
  <!-- 禁用缓存 -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#667eea" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <link rel="apple-touch-icon" href="/icon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/style.css">
  <script src="/assets/js/app.js" defer></script>
</head>
<body>
  <div class="container">
    <!-- 标题 -->
    <header class="header card">
      <h1>小六壬 AI 占卜</h1>
    </header>

    <!-- 输入区域 -->
    <section class="card form-section">
      <h2>输入信息</h2>
      
      <form id="divination-form">
        <!-- 数字输入 -->
        <div class="form-group">
          <label>三个数字 (1-999)</label>
          <div class="number-inputs">
            <div class="number-input">
              <input type="number" id="n1" min="1" max="999" required placeholder="第一数">
            </div>
            <div class="number-input">
              <input type="number" id="n2" min="1" max="999" required placeholder="第二数">
            </div>
            <div class="number-input">
              <input type="number" id="n3" min="1" max="999" required placeholder="第三数">
            </div>
          </div>
        </div>

        <!-- 问题输入 -->
        <div class="form-group">
          <label>您的问题</label>
          <textarea id="question" class="question-textarea" required placeholder="请描述您想要占卜的问题..."></textarea>
        </div>

        <!-- AI设置 -->
        <div class="ai-settings">
          <div class="ai-settings-header" id="ai-settings-header">
            <span>AI 设置</span>
            <svg class="chevron" id="chevron" viewBox="0 0 24 24" fill="currentColor">
              <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
            </svg>
          </div>
          <div class="ai-settings-content" id="ai-settings-content">
            <input type="password" id="apiKey" class="ai-input" placeholder="API Key">
            <input type="text" id="aiModel" class="ai-input" placeholder="模型 (例: gpt-4)">
            <input type="text" id="aiEndpoint" class="ai-input" placeholder="API 端点">
            <div class="checkbox-group">
              <input type="checkbox" id="reasoning" class="checkbox" checked>
              <label for="reasoning">显示推理过程</label>
            </div>
          </div>
        </div>

        <!-- 按钮 -->
        <div class="btn-group">
          <button type="submit" class="btn btn-primary">开始占卜</button>
          <button type="button" id="abort" class="btn btn-secondary" disabled>停止</button>
        </div>
      </form>
    </section>

    <!-- 结果区域 -->
    <section class="card results-section">
      <h2>占卜结果</h2>
      
      <div id="results">
        <div class="result-item">
          <div class="result-title">卦象解析</div>
          <div id="output-meta" class="result-content loading">等待输入...</div>
        </div>

        <div class="result-item">
          <div class="result-title">思考过程</div>
          <div id="output-reasoning" class="result-content"></div>
        </div>

        <div class="result-item">
          <div class="result-title">最终结果</div>
          <div id="output-answer" class="result-content"></div>
        </div>
      </div>
    </section>
  </div>
</body>
</html> 